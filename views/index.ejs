<head>
    <link rel="stylesheet" href="styles.css">
</head>
<%- include("header") %>

<div class="container">
    <h1>All Posts</h1>

  <% if (posts.length === 0) { %>
    <p>No posts yet.</p>
  <% } else { %>
<ul>
  <% posts.forEach(post => { %>
    <li>
      <h3><%= post.title %></h3>
      <p><%= post.content %></p>
      <small>By: <%= post.author || "Unknown" %></small><br/>

      <a href="/edit/<%= post.id %>" class="custom-edit-btn">Edit</a>

      <form action="/delete/<%= post.id %>" method="POST" style="display:inline;">
        <button type="submit" onclick="return confirm('Are you sure you want to delete this post?');">Delete</button>
      </form>
    </li>
  <% }) %>
</ul>
  <% } %>

  <hr/>

  <h2>Add New Post</h2>
  <form action="/add" method="POST">
    <label>Post Title:</label><br/>
    <input type="text" name="title" placeholder="Enter your post title here..." required /><br/><br/>

    <label>Post Content:</label><br/>
    <textarea name="content" rows="5" cols="50" placeholder="Write your post content here..." required></textarea><br/><br/>

    <label>Author Name:</label><br/>
    <input type="text" name="author" placeholder="Enter author name (optional)..." /><br/><br/>

    <button type="submit">Add Post</button>
  </form>
</div>

<%- include("footer") %>